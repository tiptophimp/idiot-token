# ğŸ”’ SACRED WORKFLOW - NEVER DEVIATE FROM THIS

**Version:** 1.0  
**Established:** 2025-10-16  
**Status:** MANDATORY - NO EXCEPTIONS

---

## ğŸ“œ THE GOSPEL: 5-STEP DEPLOYMENT PROCESS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: LOCAL DEVELOPMENT                                  â”‚
â”‚  â”œâ”€ Work in: C:\idiot-project\website\dev\                 â”‚
â”‚  â”œâ”€ Make changes to HTML, CSS, JS, images                  â”‚
â”‚  â””â”€ Save frequently                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: LOCAL BROWSER REVIEW (CRITICAL!)                  â”‚
â”‚  â”œâ”€ Open files directly in browser from Explorer           â”‚
â”‚  â”œâ”€ No cache issues, see real changes                      â”‚
â”‚  â”œâ”€ Review ALL changes thoroughly                          â”‚
â”‚  â”œâ”€ Fix any issues found                                   â”‚
â”‚  â””â”€ Only proceed when LOCAL looks perfect                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: STAGING DEPLOYMENT                                â”‚
â”‚  â”œâ”€ Switch to staging branch: git checkout staging         â”‚
â”‚  â”œâ”€ Copy/merge your changes                                â”‚
â”‚  â”œâ”€ Commit and push to staging repo                        â”‚
â”‚  â”œâ”€ Deploys to: https://tiptophimp.github.io/idiot-token-staging/ â”‚
â”‚  â”œâ”€ Test LIVE on staging site                              â”‚
â”‚  â”œâ”€ Check all links, images, functionality                 â”‚
â”‚  â””â”€ Only proceed when STAGING perfect                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: COMMIT TO PRODUCTION                              â”‚
â”‚  â”œâ”€ Switch to gh-pages: git checkout gh-pages              â”‚
â”‚  â”œâ”€ Copy/merge approved changes from staging               â”‚
â”‚  â”œâ”€ Git add, commit, push to GitHub                        â”‚
â”‚  â”œâ”€ Repo stays CLEAN (no broken commits!)                  â”‚
â”‚  â”œâ”€ Write clear commit message                             â”‚
â”‚  â””â”€ Push to gh-pages branch                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 5: AUTOMATIC PRODUCTION DEPLOYMENT                   â”‚
â”‚  â”œâ”€ GitHub Pages automatically deploys                     â”‚
â”‚  â”œâ”€ Usually takes 1-3 minutes                              â”‚
â”‚  â”œâ”€ Deploys to: https://www.stupidiots.com                 â”‚
â”‚  â”œâ”€ Verify deployment successful                           â”‚
â”‚  â””â”€ Test live site                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›¡ï¸ SAFETY MECHANISMS

### Backup System (Rolling 4)
- **Location:** `C:\idiot-project\website\backups\`
- **Rotation:** Keep 4 most recent, delete oldest
- **Naming:** `backup_YYYYMMDD_HHMMSS.tar.gz`
- **Created:** Before EVERY staging and production deploy
- **Stored:** Both locally and on server

### Automatic Checks
- âœ… Backup created before deploy
- âœ… Target directory verified
- âœ… Files validated
- âœ… Deployment verified
- âœ… Rollback available

---

## âŒ NEVER DO THIS

### Prohibited Actions:
1. âŒ Skip local browser review
2. âŒ Deploy to production without staging test
3. âŒ Commit broken code to repo
4. âŒ Run `rm -rf` without backup
5. âŒ Disable safety checks
6. âŒ Ignore failed commits
7. âŒ Deviate from this workflow

---

## ğŸš¨ ROLLBACK PROCEDURE

### If Production Breaks:
```bash
# 1. Check available backups
ls -lh C:\idiot-project\website\backups\

# 2. Run rollback script
bash C:\idiot-project\deploy\scripts\rollback-production.sh

# 3. Select backup to restore
# 4. Verify restoration
curl -I https://stupidiots.com/
```

---

## ğŸ“ DIRECTORY STRUCTURE

```
C:\idiot-project\
â”œâ”€â”€ _STATUS.md              â† READ THIS FIRST
â”œâ”€â”€ website\
â”‚   â”œâ”€â”€ dev\                â† Step 1: Local development
â”‚   â”œâ”€â”€ staging-ready\      â† Step 3: Ready for staging
â”‚   â”œâ”€â”€ production-ready\   â† Step 4: Ready for production
â”‚   â””â”€â”€ backups\            â† Rolling 4 backups
â”œâ”€â”€ token\                  â† Token dev & maintenance
â”œâ”€â”€ deploy\
â”‚   â””â”€â”€ scripts\            â† Deployment automation
â””â”€â”€ docs\                   â† Documentation
    â””â”€â”€ WORKFLOW.md         â† YOU ARE HERE
```

---

## ğŸ¯ QUICK REFERENCE COMMANDS

### Local Browser Review
```bash
# Windows: Open file in default browser
start C:\idiot-project\website\dev\index.html

# Or: Right-click in Explorer â†’ Open with â†’ Chrome/Firefox
```

### Deploy to Staging
```bash
cd C:\idiot-project
git checkout staging
# Make your changes or merge from dev
git add .
git commit -m "Description of changes"
git push origin staging
git push staging-origin staging:gh-pages
```

### Check Staging
```
https://tiptophimp.github.io/idiot-token-staging/
```

### Deploy to Production
```bash
cd C:\idiot-project
git checkout gh-pages
# Merge approved changes from staging
git add .
git commit -m "Description of changes"
git push origin gh-pages
```

### Check Production
```
https://www.stupidiots.com/
```

### Rollback
```bash
bash deploy/scripts/rollback-production.sh
```

---

## ğŸ“ DEPLOYMENT CHECKLIST

Before EVERY deployment, verify:

### Pre-Deployment
- [ ] Changes tested in local browser
- [ ] All links work
- [ ] All images load
- [ ] No console errors
- [ ] Mobile responsive
- [ ] Cross-browser tested

### Staging
- [ ] Deployed to staging successfully
- [ ] Tested live on staging server
- [ ] No cache issues
- [ ] All functionality works
- [ ] Ready for production

### Production
- [ ] Backup created (verify!)
- [ ] Staging approved
- [ ] Commit message written
- [ ] Pushed to repo
- [ ] CI/CD deployment verified

---

## ğŸ† SUCCESS METRICS

You're following the workflow correctly if:
- âœ… Zero broken commits in repo
- âœ… Zero production surprises
- âœ… Always have 4 backups
- âœ… Can rollback in < 5 minutes
- âœ… Clean git history
- âœ… No emergency fixes

---

**This workflow exists because of the Oct 16 near-deletion incident.**  
**Follow it religiously. Your future self will thank you.**

---

**Questions? Read this document again. Still questions? Read _STATUS.md**

